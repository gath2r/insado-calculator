<!DOCTYPE html>
<html lang="ko">
<head>
    <meta name="naver-site-verification" content="20d9944d895cb6fe5c7a202f2ed6ccf64da71793" />
    <meta name="google-adsense-account" content="ca-pub-8367695516868688">
    <meta name="google-site-verification" content="n9D9TBUYdc_pfvWFDCWRnr1sJJE5Rfthotq1E_sH-1Y" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>ì¸ì‹¸ë„ ê³„ì‚°ê¸°</title>
    
    <meta name="description" content="ë‚´ ì¸ìŠ¤íƒ€ê·¸ë¨ ê³„ì •ì€ ì¸ì‹¸ì¼ê¹Œ? ì•„ì‹¸ì¼ê¹Œ? íŒ”ë¡œì›Œ, íŒ”ë¡œì‰, ê²Œì‹œë¬¼ ìˆ˜ë¡œ ë‚˜ì˜ ì¸ì‹¸ë ¥ì„ ì§€ê¸ˆ ë°”ë¡œ ì¸¡ì •í•´ë³´ì„¸ìš”!">

    <meta property="og:type" content="website">
    <meta property="og:title" content="ğŸ˜ ì¸ì‹¸ë„ ê³„ì‚°ê¸° ğŸ˜®">
    <meta property="og:description" content="ë‚´ ì¸ìŠ¤íƒ€ê·¸ë¨ ê³„ì •ì€ ì¸ì‹¸ì¼ê¹Œ? ì•„ì‹¸ì¼ê¹Œ? ë‚˜ì˜ ì¸ì‹¸ë ¥ì„ ì§€ê¸ˆ ë°”ë¡œ ì¸¡ì •í•´ë³´ì„¸ìš”!">
    <meta property="og:url" content="https://inssado.netlify.app/">
    <meta property="og:image" content="https://inssado.netlify.app/og-image.png">
    <meta name="twitter:card" content="summary_large_image"> 
    <meta name="twitter:title" content="ğŸ˜ ì¸ì‹¸ë„ ê³„ì‚°ê¸° ğŸ˜®">
    <meta name="twitter:description" content="ë‚´ ì¸ìŠ¤íƒ€ê·¸ë¨ ê³„ì •ì€ ì¸ì‹¸ì¼ê¹Œ? ì•„ì‹¸ì¼ê¹Œ? ë‚˜ì˜ ì¸ì‹¸ë ¥ì„ ì§€ê¸ˆ ë°”ë¡œ ì¸¡ì •í•´ë³´ì„¸ìš”!">
    <meta name="twitter:image" content="https://inssado.netlify.app/og-image.png">

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <style>
        body { font-family: sans-serif; text-align: center; margin-top: 30px; }
        h1 { color: #E1306C; }
        .container { max-width: 500px; margin: 0 auto; padding: 20px; }
        .input-group { margin: 15px 0; }
        .input-group label { display: block; margin-bottom: 5px; font-weight: bold; }
        .input-group input {
            font-size: 1.1em;
            padding: 10px;
            margin: 0;
            width: calc(100% - 24px);
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        
        button {
            font-size: 1.3em;
            padding: 12px 25px;
            cursor: pointer;
            background: linear-gradient(45deg, #405DE6, #5851D8, #833AB4, #C13584, #E1306C, #FD1D1D);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            margin-top: 10px;
        }
        
        .button-wrapper {
             display: none;
             margin-top: 15px;
        }
        #saveButton {
            font-size: 1.0em;
            padding: 10px 20px;
            background: #0095F6;
        }
        #shareButton {
            font-size: 1.0em;
            padding: 10px 20px;
            background: #25D366;
        }
        
        #result {
            margin-top: 30px;
            font-size: 1.5em;
            font-weight: bold;
            padding: 30px 20px;
            border-radius: 10px;
            background-color: #f8f8f8;
            border: 1px solid #eee;
            white-space: pre-line;
        }

        /* [V6.0] í”¼ë“œë°± ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .feedback-section { display: none; margin-top: 20px; }
        .feedback-section p { font-size: 1.1em; }
        .feedback-button {
            font-size: 1.0em;
            padding: 10px 15px;
            margin: 5px;
            border-radius: 8px;
            cursor: pointer;
        }
        #agreeBtn { background-color: #4CAF50; color: white; border: none; }
        #disagreeBtn { background-color: #F44336; color: white; border: none; }
        #disagreeOptions { display: none; margin-top: 15px; }
        .disagree-choice { background-color: #ff9800; color: white; border: none; }
        #feedbackThanks { display:none; font-weight:bold; color:#0095F6; margin-top: 15px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ˜ ì¸ì‹¸ë„ ê³„ì‚°ê¸° ğŸ˜®</h1>
        <p>3ê°€ì§€ë§Œ ë¹ ë¥´ê²Œ ì…ë ¥í•˜ê³  ì¸ì‹¸ë ¥ì„ ì¸¡ì •í•˜ì„¸ìš”!</p>

        <div class="input-group">
            <label for="followersInput">1. íŒ”ë¡œì›Œ ìˆ˜</label>
            <input type="number" id="followersInput" placeholder="ì˜ˆ: 1500">
        </div>
        <div class="input-group">
            <label for="followingInput">2. íŒ”ë¡œì‰ ìˆ˜</label>
            <input type="number" id="followingInput" placeholder="ì˜ˆ: 450">
        </div>
        <div class="input-group">
            <label for="mediaCountInput">3. ì´ ê²Œì‹œë¬¼ ìˆ˜</label>
            <input type="number" id="mediaCountInput" placeholder="ì˜ˆ: 120">
        </div>

        <button onclick="calculate()">ë‚´ ì¸ì‹¸ë ¥ì€?!</button>

        <div id="result">
            </div>

        <div class="button-wrapper" id="buttonWrapper">
            <button id="saveButton" onclick="saveResultAsImage()">
                ìŠ¤í† ë¦¬ì— ê³µìœ  (ì´ë¯¸ì§€ ì €ì¥) ğŸ“¸
            </button>
            <button id="shareButton" onclick="shareLink()">
                ì¹œêµ¬ì—ê²Œ ë§í¬ ê³µìœ í•˜ê¸° ğŸš€
            </button>
        </div>

        <div class="feedback-section" id="feedbackSection">
            <hr>
            <p><strong>ì´ ê²°ê³¼, ì •í™•í•œê°€ìš”?</strong></p>
            <button id="agreeBtn" class="feedback-button" onclick="handleFeedback('agree')">ì¸ì •! ğŸ‘</button>
            <button id="disagreeBtn" class="feedback-button" onclick="handleFeedback('disagree')">ì¸ì • ëª»í•´! ğŸ‘</button>
            
            <div id="disagreeOptions">
                <p>ê·¸ë ‡ë‹¤ë©´ ë‹¹ì‹ ì˜ ì‹¤ì œ íƒ€ì…ì€?</p>
                <button id="choice1" class="feedback-button disagree-choice"></button>
                <button id="choice2" class="feedback-button disagree-choice"></button>
            </div>
        </div>

        <p id="feedbackThanks">í”¼ë“œë°± ê°ì‚¬í•©ë‹ˆë‹¤!</p>

        <form name="feedback" method="POST" data-netlify="true" netlify-honeypot="bot-field" hidden>
            <input type="hidden" name="form-name" value="feedback" />
            <p class="hidden"><label>Donâ€™t fill this out if youâ€™re human: <input name="bot-field" /></label></p>
            <input type="text" name="followers" />
            <input type="text" name="following" />
            <input type="text" name="mediaCount" />
            <input type="text" name="resultType" />
            <input type="text" name="feedback" /> <input type="text" name="userChoice" /> </form>

    </div>

    <script>
        // --- ìŠ¤í¬ë¦½íŠ¸ ì‹œì‘ ---

        // V5.2 ë§í¬ ê³µìœ  í•¨ìˆ˜ (Web Share API)
        function shareLink() {
            if (navigator.share) {
                navigator.share({
                    title: 'ğŸ˜ ì¸ì‹¸ë„ ê³„ì‚°ê¸° ğŸ˜®',
                    text: 'ë‚´ ì¸ìŠ¤íƒ€ê·¸ë¨ ê³„ì •ì€ ì¸ì‹¸ì¼ê¹Œ? ì•„ì‹¸ì¼ê¹Œ? ì§€ê¸ˆ ë°”ë¡œ ì¸¡ì •í•´ë³´ì„¸ìš”!',
                    url: 'https://inssado.netlify.app/',
                })
                .then(() => console.log('ë§í¬ ê³µìœ  ì„±ê³µ'))
                .catch((error) => console.log('ë§í¬ ê³µìœ  ì‹¤íŒ¨', error));
            } else {
                alert("ì´ ë¸Œë¼ìš°ì €ì—ì„œëŠ” ë§í¬ ê³µìœ  ê¸°ëŠ¥ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\nì£¼ì†Œë¥¼ ë³µì‚¬í•˜ì—¬ ê³µìœ í•´ì£¼ì„¸ìš”!");
            }
        }

        // V5.1 ì´ë¯¸ì§€ ì €ì¥ í•¨ìˆ˜ (html2canvas)
        function saveResultAsImage() {
            const resultElement = document.getElementById('result');
            alert("ì´ë¯¸ì§€ ì €ì¥ì„ ì‹œì‘í•©ë‹ˆë‹¤.\n\n[ì£¼ì˜] ë¸Œë¼ìš°ì €(í¬ë¡¬ ë“±) ìƒë‹¨ì— 'íŒì—… ì°¨ë‹¨' ì•„ì´ì½˜ì´ ëœ¨ë©´, 'í•­ìƒ í—ˆìš©'ìœ¼ë¡œ ë³€ê²½í•´ì£¼ì„¸ìš”!");
            html2canvas(resultElement).then(function(canvas) {
                const imageUrl = canvas.toDataURL('image/png');
                const downloadLink = document.createElement('a');
                downloadLink.href = imageUrl;
                downloadLink.download = 'my_inssa_result.png'; 
                document.body.appendChild(downloadLink);
                downloadLink.click();
                document.body.removeChild(downloadLink);
                alert("ìŠ¤í† ë¦¬ ê³µìœ ìš© ì´ë¯¸ì§€ê°€ ê°¤ëŸ¬ë¦¬ì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!\n\n(í˜¹ì‹œ ì €ì¥ì´ ì•ˆ ëë‹¤ë©´?)\n1. íŒì—… ì°¨ë‹¨ì„ í•´ì œí•˜ì„¸ìš”.\n2. (ëª¨ë°”ì¼) ì´ë¯¸ì§€ê°€ ìƒˆ íƒ­ìœ¼ë¡œ ì—´ë¦¬ë©´, ì‚¬ì§„ì„ ê¾¹ ëˆŒëŸ¬ 'ì´ë¯¸ì§€ ì €ì¥'ì„ ì„ íƒí•˜ì„¸ìš”.");
            });
        }

        // [V6.0] ê³„ì‚° ê²°ê³¼ë¥¼ ì €ì¥í•  ì „ì—­ ë³€ìˆ˜
        let currentResult = {
            followers: 0,
            following: 0,
            mediaCount: 0,
            resultType: ""
        };

        // [V6.0] Netlify í¼ ì œì¶œ í•¨ìˆ˜
        function submitFeedbackToNetlify(feedbackData) {
            const form = document.forms['feedback'];
            form.elements['followers'].value = feedbackData.followers;
            form.elements['following'].value = feedbackData.following;
            form.elements['mediaCount'].value = feedbackData.mediaCount;
            form.elements['resultType'].value = feedbackData.resultType;
            form.elements['feedback'].value = feedbackData.feedback;
            form.elements['userChoice'].value = feedbackData.userChoice || "";

            fetch('/', {
                method: 'POST',
                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                body: new URLSearchParams(new FormData(form)).toString()
            })
            .then(() => {
                console.log('Netlify í¼ ì œì¶œ ì„±ê³µ');
                // 3. ì‚¬ìš©ìì—ê²Œ ê°ì‚¬ ë©”ì‹œì§€ í‘œì‹œ
                document.getElementById('feedbackSection').style.display = 'none';
                document.getElementById('feedbackThanks').style.display = 'block';
            })
            .catch((error) => {
                console.error('Netlify í¼ ì œì¶œ ì‹¤íŒ¨:', error);
                alert('ì˜¤ë¥˜: í”¼ë“œë°± ì œì¶œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
            });
        }

        // [V6.1 ìˆ˜ì •] í”¼ë“œë°± ë²„íŠ¼ í•¸ë“¤ëŸ¬ (AI ì•Œë¦¼ ì¶”ê°€)
        function handleFeedback(type, userChoice = null) {
            const disagreeOptions = document.getElementById('disagreeOptions');

            if (type === 'agree') {
                // 'ì¸ì •' ë²„íŠ¼ í´ë¦­
                
                // [ì‹ ê·œ] AI í•™ìŠµ ì•Œë¦¼
                alert("í”¼ë“œë°± ê°ì‚¬í•©ë‹ˆë‹¤! AIê°€ ì‚¬ìš©ìì˜ ì‘ë‹µì„ í•™ìŠµí•©ë‹ˆë‹¤. ğŸ¤–");
                
                submitFeedbackToNetlify({
                    ...currentResult,
                    feedback: 'agree'
                });
            } else if (type === 'disagree' && !userChoice) {
                // 'ì¸ì • ëª»í•´' ë²„íŠ¼ *ìµœì´ˆ* í´ë¦­
                disagreeOptions.style.display = 'block';
                
                const choice1 = document.getElementById('choice1');
                const choice2 = document.getElementById('choice2');
                
                // ê²°ê³¼ì— ë”°ë¼ ë‹¤ë¥¸ ì„ íƒì§€ ì œì‹œ
                if (currentResult.resultType.includes('ì¸ì‹¸')) {
                    choice1.innerText = "ë‚œ ì‚¬ì‹¤... ì•„ì‹¸ ğŸ˜¢";
                    choice1.onclick = () => handleFeedback('disagree', 'ì•„ì‹¸');
                    choice2.innerText = "ë‚œ ì‚¬ì‹¤... í•µì¸ì‹¸ ğŸ‰";
                    choice2.onclick = () => handleFeedback('disagree', 'í•µì¸ì‹¸');
                } else if (currentResult.resultType.includes('ì•„ì‹¸')) {
                     choice1.innerText = "ë‚œ ì‚¬ì‹¤... ì¼ë°˜ì¸ â˜•";
                    choice1.onclick = () => handleFeedback('disagree', 'ì¼ë°˜ì¸');
                    choice2.innerText = "ë‚œ ì‚¬ì‹¤... ì¸ì‹¸ ğŸ’–";
                    choice2.onclick = () => handleFeedback('disagree', 'ì¸ì‹¸');
                } else { // ì¼ë°˜ì¸ ë˜ëŠ” ì¸í”Œë£¨ì–¸ì„œ
                    choice1.innerText = "ë‚œ ì‚¬ì‹¤... ì•„ì‹¸ ğŸ˜¢";
                    choice1.onclick = () => handleFeedback('disagree', 'ì•„ì‹¸');
                    choice2.innerText = "ë‚œ ì‚¬ì‹¤... ì¸ì‹¸ ğŸ’–";
                    choice2.onclick = () => handleFeedback('disagree', 'ì¸ì‹¸');
                }

            } else if (type === 'disagree' && userChoice) {
                // 'ì¸ì • ëª»í•´' -> 'ë‚œ ì‚¬ì‹¤...' ë²„íŠ¼ í´ë¦­
                
                // [ì‹ ê·œ] AI í•™ìŠµ ì•Œë¦¼
                alert("í”¼ë“œë°± ê°ì‚¬í•©ë‹ˆë‹¤! AIê°€ ì‚¬ìš©ìì˜ ì‘ë‹µì„ í•™ìŠµí•©ë‹ˆë‹¤. ğŸ¤–");

                submitFeedbackToNetlify({
                    ...currentResult,
                    feedback: 'disagree',
                    userChoice: userChoice
                });
            }
        }

        // [V6.1 ìˆ˜ì •] ë©”ì¸ ê³„ì‚° í•¨ìˆ˜
        function calculate() {
            // 1. ëª¨ë“  ì…ë ¥ ê°’ ê°€ì ¸ì˜¤ê¸°
            let followers = parseInt(document.getElementById('followersInput').value) || 0;
            let following = parseInt(document.getElementById('followingInput').value) || 0;
            let mediaCount = parseInt(document.getElementById('mediaCountInput').value) || 0;

            // 2. ìœ íš¨ì„± ê²€ì‚¬
            if (followers < 0 || following < 0 || mediaCount < 0) {
                document.getElementById('result').innerText = "ìˆ«ìëŠ” 0 ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.";
                return;
            }
            if (followers === 0 && mediaCount === 0) {
                document.getElementById('result').innerText = "ìœ ë ¹ ê³„ì •ì€ ì¸¡ì •í•  ìˆ˜ ì—†ì–´ìš”! ğŸ‘»";
                return;
            }

            // 3. 'ì•„ì‹¸' ê·¸ë£¹ ì„¸ë¶„í™” ê¸°ì¤€ê°’
            const ASSA_THRESHOLD = 150; 
            const MEDIA_MANY_THRESHOLD = 150;
            const MEDIA_LOW_THRESHOLD = 30;

            let resultType = ""; // ê²°ê³¼ íƒ€ì…
            let totalScore = 0; // ì ìˆ˜
            let resultText = ""; // ìµœì¢… í…ìŠ¤íŠ¸

            // 'ì•„ì‹¸' ê·¸ë£¹ íŒë³„ (íŒ”ë¡œì›Œ 150 ë¯¸ë§Œ)
            if (followers < ASSA_THRESHOLD) {
                if (following > followers * 2 && following > 100) { 
                    resultType = "í”„ë¡œ íƒìƒ‰ëŸ¬ ğŸ•µï¸ (íŠ¸ë Œë“œ ì‚¬ëƒ¥ê¾¼)";
                } 
                else if (mediaCount >= MEDIA_MANY_THRESHOLD) {
                    resultType = "ì•„ì‹¸ (ê¸°ë¡í˜•) ğŸ“ (ë‚˜ë§Œì˜ ì¼ê¸°ì¥)";
                } 
                else if (mediaCount >= MEDIA_LOW_THRESHOLD) {
                    resultType = "ì•„ì‹¸ (ì†Œì…œí˜•) ğŸ˜¢ (ì¡°ìš©í•œ ê´€ì°°ì)";
                } 
                else {
                    resultType = "ì•„ì‹¸ (ìœ ë ¹) ğŸ‘» (ì¡´ì¬ê° ì œë¡œ)";
                }
                resultText = `ë‹¹ì‹ ì˜ íƒ€ì…:\n${resultType}`;
            } 
            // 'ì¼ë°˜ì¸' ì´ìƒ ê·¸ë£¹ íŒë³„ (íŒ”ë¡œì›Œ 150 ì´ìƒ)
            else {
                let ratio = (following > 0) ? (followers / following) : (followers > 0 ? Infinity : 0);
                
                // ì ìˆ˜ 1: ì˜í–¥ë ¥ (íŒ”ë¡œì›Œ ìˆ˜) (ìµœëŒ€ 50ì )
                let score1 = 10;
                if (followers >= 10000) score1 = 50;
                else if (followers >= 5000) score1 = 45;
                else if (followers >= 1000) score1 = 35;
                else if (followers >= 500) score1 = 25;
                else if (followers >= 200) score1 = 15;

                // ì ìˆ˜ 2: ì†Œì…œë ¥ (ë¹„ìœ¨) (ìµœëŒ€ 30ì )
                let score2 = 5;
                if (ratio >= 3.0) score2 = 30;
                else if (ratio >= 2.0) score2 = 25;
                else if (ratio >= 0.8) score2 = 20;
                else if (ratio >= 0.5) score2 = 10;

                // ì ìˆ˜ 3: ê¾¸ì¤€í•¨ (ê²Œì‹œë¬¼ ìˆ˜) (ìµœëŒ€ 20ì ) (ë³´ë„ˆìŠ¤)
                let score3 = 0;
                if (mediaCount >= MEDIA_MANY_THRESHOLD) score3 = 20; 
                else if (mediaCount >= 100) score3 = 15;
                else if (mediaCount >= 50) score3 = 10;
                else if (mediaCount >= 10) score3 = 5;

                totalScore = score1 + score2 + score3;
                if (totalScore > 100) totalScore = 100;

                // ê²°ê³¼ íŒì •
                const LOW_MEDIA_THRESHOLD_INSSA = 50; 
                if (totalScore >= 90) {
                    resultType = "ì¸í”Œë£¨ì–¸ì„œ ğŸ‘‘ (ë‹¹ì‹ ì€ ìŠˆí¼ìŠ¤íƒ€!)";
                } 
                else if (totalScore >= 70) {
                    resultType = (mediaCount < LOW_MEDIA_THRESHOLD_INSSA) ? "í•µì¸ì‹¸ (ìŠ¤í† ë¦¬í˜•) ğŸ¤« (ìˆ¨ì€ ê³ ìˆ˜)" : "í•µì¸ì‹¸ (í´ë˜ì‹) ğŸ‰ (íŒŒí‹°ì˜ ì¤‘ì‹¬)";
                } 
                else if (totalScore >= 50) {
                    resultType = (mediaCount < LOW_MEDIA_THRESHOLD_INSSA) ? "ìƒ¤ì´ ì¸ì‹¸ ğŸ’– (ìŠ¤í† ë¦¬/ì†Œí†µí˜•)" : "ì¸ì‹¸ ğŸ’– (ì ê·¹ì  ì†Œí†µê°€)";
                } 
                else {
                    // 'ì¼ë°˜ì¸' ì„¸ë¶„í™” (ì´ì  50 ë¯¸ë§Œ)
                    if (mediaCount >= MEDIA_MANY_THRESHOLD) {
                        resultType = "ì¼ë°˜ì¸ (í—¤ë¹„ ìœ ì €) ğŸ“¸ (ì¼ìƒ ê³µìœ ê°€)";
                    } 
                    else if (mediaCount >= MEDIA_LOW_THRESHOLD) {
                        resultType = "ì¼ë°˜ì¸ (í‘œì¤€) â˜• (ê· í˜•ì¡íŒ ë§ˆì´ì›¨ì´)";
                    } 
                    else {
                        resultType = "ì¼ë°˜ì¸ (ëˆˆíŒ…ì¡±) ğŸ¤« (ë³´ê¸°ë§Œ í• ê²Œìš”)";
                    }
                }
                resultText = `ë‹¹ì‹ ì˜ ì¸ì‹¸ ì ìˆ˜ëŠ” [ ${totalScore}ì  ]\níƒ€ì…: ${resultType}`;
            }
            
            // 7. ê²°ê³¼ í‘œì‹œ
            document.getElementById('result').innerText = resultText;
            
            // 8. ì „ì—­ ë³€ìˆ˜ì— í˜„ì¬ ê²°ê³¼ ì €ì¥
            currentResult = { followers, following, mediaCount, resultType };

            // 9. ê³µìœ  ë²„íŠ¼ ë° í”¼ë“œë°± ì„¹ì…˜ í‘œì‹œ (ì´ˆê¸°í™”)
            document.getElementById('buttonWrapper').style.display = 'block';
            document.getElementById('feedbackSection').style.display = 'block';
            document.getElementById('feedbackThanks').style.display = 'none';
            document.getElementById('disagreeOptions').style.display = 'none';
        }
    </script>
</body>
</html>